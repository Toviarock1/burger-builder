{"version":3,"sources":["components/Order/Order.module.css","components/Order/Order.jsx","containers/Orders/Orders.jsx","components/UI/Modal/Modal.jsx","components/UI/Modal/Modal.module.css","hoc/WithErrorHandler/WithErrorHandler.js"],"names":["module","exports","order","props","ingredients","ingredientName","push","name","amount","ingredientOutput","map","ig","style","textTransform","display","margin","border","padding","className","classes","Order","price","toFixed","Orders","this","onFetchOrders","token","userId","orders","Spinner","loading","id","Component","connect","state","auth","dispatch","actions","withErrorHandler","axios","Modal","nextProps","nextState","show","children","Fragment","clicked","modalClosed","transform","opacity","WrappedComponent","error","errorConfirmedHandler","setState","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","eject","message"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,MAAQ,uB,4HCoCXC,EAjCD,SAACC,GACd,IAAMC,EAAc,GACpB,IAAK,IAAIC,KAAkBF,EAAMC,YAChCA,EAAYE,KACZ,CACAC,KAAMF,EACNG,OAAQL,EAAMC,YAAYC,KAK3B,IAAMI,EAAmBL,EAAYM,KAAI,SAAAC,GACxC,OACC,uBACCC,MAAO,CACPC,cAAe,aACfC,QAAS,eACTC,OAAQ,QACRC,OAAQ,iBACRC,QAAS,OANV,UAQiBN,EAAGJ,KARpB,KAQ4BI,EAAGH,OAR/B,MAQMG,EAAGJ,SAIX,OACC,sBAAKW,UAAWC,IAAQC,MAAxB,UACC,8CAAiBX,KACjB,wCAAU,2CAAYN,EAAMkB,MAAMC,QAAQ,GAAhC,iB,wBCtBPC,E,uKAEF,WACGC,KAAKrB,MAAMsB,cAAcD,KAAKrB,MAAMuB,MAAOF,KAAKrB,MAAMwB,U,oBAIzD,WACI,IAAIC,EAAS,cAACC,EAAA,EAAD,IAUb,OATIL,KAAKrB,MAAM2B,UACXF,EAASJ,KAAKrB,MAAMyB,OAAOlB,KAAK,SAAAR,GAAK,OAErB,cAACkB,EAAD,CACIhB,YAAaF,EAAME,YACnBiB,OAAQnB,EAAMmB,OAFNnB,EAAM6B,QAOlC,8BACKH,Q,GApBII,aAyCNC,uBAfS,SAAAC,GACtB,MAAM,CACFN,OAAQM,EAAMhC,MAAM0B,OACpBE,QAASI,EAAMhC,MAAM4B,QACrBJ,MAAOQ,EAAMC,KAAKT,MAClBC,OAAQO,EAAMC,KAAKR,WAIE,SAAAS,GACvB,MAAM,CACFX,cAAe,SAACC,EAAOC,GAAR,OAAmBS,EAASC,IAAoBX,EAAOC,QAI/DM,CAA8CK,YAAiBf,EAAQgB,O,oHC9ChFC,E,2KACF,SAAuBC,EAAWC,GAC9B,OAAOD,EAAUE,OAASnB,KAAKrB,MAAMwC,MAAQF,EAAUG,WAAapB,KAAKrB,MAAMyC,W,oBAIrF,WACE,OACE,eAAC,IAAMC,SAAP,WACE,cAAC,IAAD,CAAUF,KAAMnB,KAAKrB,MAAMwC,KAAMG,QAAStB,KAAKrB,MAAM4C,cACrD,qBACE7B,UAAWC,IAAQqB,MACnB5B,MAAO,CACLoC,UAAWxB,KAAKrB,MAAMwC,KAAO,gBAAkB,qBAC/CM,QAASzB,KAAKrB,MAAMwC,KAAO,IAAM,KAJrC,SAOGnB,KAAKrB,MAAMyC,kB,GAjBFZ,aAwBLQ,O,mBC5BfxC,EAAOC,QAAU,CAAC,MAAQ,uB,kGC2CXqC,IAxCU,SAAEY,EAAkBX,GACzC,mNACIL,MAAQ,CACJiB,MAAO,MAFf,EAoBIC,sBAAwB,WACpB,EAAKC,SAAU,CAAEF,MAAO,QArBhC,wDAKI,WAAuB,IAAD,OAClB3B,KAAK8B,eAAiBf,EAAMgB,aAAaC,QAAQC,KAAK,SAAAC,GAElD,OADA,EAAKL,SAAU,CAAEF,MAAO,OACjBO,KAEXlC,KAAKmC,eAAiBpB,EAAMgB,aAAaK,SAASH,KAAK,SAAAI,GAAG,OAAIA,KAAK,SAAAV,GAC/D,EAAKE,SAAU,CAAEF,MAAOA,SAXpC,kCAeI,WACIZ,EAAMgB,aAAaC,QAAQM,MAAOtC,KAAK8B,gBACvCf,EAAMgB,aAAaK,SAASE,MAAOtC,KAAKmC,kBAjBhD,oBAwBI,WACI,OACI,qCACI,cAAC,IAAD,CACIhB,KAAMnB,KAAKU,MAAMiB,MACjBJ,YAAavB,KAAK4B,sBAFtB,SAGK5B,KAAKU,MAAMiB,MAAQ3B,KAAKU,MAAMiB,MAAMY,QAAU,OAEnD,cAACb,EAAD,eAAsB1B,KAAKrB,eAhC3C,GAAqB6B","file":"static/js/6.5e3c18e2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Order\":\"Order_Order__3kYZJ\"};","import React from 'react';\n\nimport classes from './Order.module.css';\n\nconst order = (props) => {\n\tconst ingredients = [];\n\tfor (let ingredientName in props.ingredients) {\n\t\tingredients.push(\n\t\t{\n\t\tname: ingredientName,\n\t\tamount: props.ingredients[ingredientName]\n\t\t}\n\t\t);\n\t}\n\n\tconst ingredientOutput = ingredients.map(ig => {\n\t\treturn (\n\t\t\t<span\n\t\t\t\tstyle={{\n\t\t\t\ttextTransform: 'capitalize',\n\t\t\t\tdisplay: 'inline-block',\n\t\t\t\tmargin: '0 8px',\n\t\t\t\tborder: '1px solid #ccc',\n\t\t\t\tpadding: '5px'\n\t\t\t\t}} \n\t\t\t\tkey={ig.name} >{ig.name} ({ig.amount})</span>\n\t\t);\n\t});\n\n\treturn (\n\t\t<div className={classes.Order} >\n\t\t\t<p>Ingredients: {ingredientOutput}</p>\n\t\t\t<p>Price: <strong>{`${props.price.toFixed(2)} USD`}</strong></p>\n\t\t</div>\n\t); \n}\n\nexport default order;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport axios from '../../axios-orders';\nimport Order from '../../components/Order/Order';\nimport withErrorHandler from '../../hoc/WithErrorHandler/WithErrorHandler';\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\n\n\nclass Orders extends Component {\n    \n    componentDidMount() {\n       this.props.onFetchOrders(this.props.token, this.props.userId);\n    }\n    \n\n    render() {\n        let orders = <Spinner />;\n        if(!this.props.loading) {\n            orders = this.props.orders.map (order => \n                        (\n                            <Order key={order.id}\n                                ingredients={order.ingredients}\n                                price={+order.price}\n                            />\n                    ))\n        } \n        return (\n            <div>\n                {orders}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n  return{\n      orders: state.order.orders,\n      loading: state.order.loading,\n      token: state.auth.token,\n      userId: state.auth.userId\n  };  \n};\n\nconst mapDispatchToProps = dispatch => {\n    return{\n        onFetchOrders: (token, userId) => dispatch(actions.fetchOrders(token, userId))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps )(withErrorHandler(Orders, axios));","import React, { Component } from \"react\";\nimport Backdrop from \"../Backdrop/Backdrop\";\n\nimport classes from \"./Modal.module.css\";\n\nclass Modal extends Component {\n    shouldComponentUpdate( nextProps, nextState){\n        return nextProps.show !== this.props.show || nextProps.children !== this.props.children;\n    }\n\n\n  render() {\n    return (\n      <React.Fragment>\n        <Backdrop show={this.props.show} clicked={this.props.modalClosed} />\n        <div\n          className={classes.Modal}\n          style={{\n            transform: this.props.show ? \"translateY(0)\" : \"translateY(-100vh)\",\n            opacity: this.props.show ? \"1\" : \"0\",\n          }}\n        >\n          {this.props.children}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1-5dN\"};","import React, { Component } from 'react';\n\nimport Modal from '../../components/UI/Modal/Modal';\n\nconst withErrorHandler = ( WrappedComponent, axios ) => {\n    return class extends Component {\n        state = {\n            error: null\n        }\n\n        componentWillMount () {\n            this.reqInterceptor = axios.interceptors.request.use( req => {\n                this.setState( { error: null } );\n                return req;\n            } );\n            this.resInterceptor = axios.interceptors.response.use( res => res, error => {\n                this.setState( { error: error } );\n            } );\n        }\n\n        componentWillUnmount () {\n            axios.interceptors.request.eject( this.reqInterceptor );\n            axios.interceptors.response.eject( this.resInterceptor );\n        }\n\n        errorConfirmedHandler = () => {\n            this.setState( { error: null } );\n        }\n\n        render () {\n            return (\n                <>\n                    <Modal\n                        show={this.state.error}\n                        modalClosed={this.errorConfirmedHandler}>\n                        {this.state.error ? this.state.error.message : null}\n                    </Modal>\n                    <WrappedComponent {...this.props} />\n                </>\n            );\n        }\n    }\n}\n\nexport default withErrorHandler;"],"sourceRoot":""}