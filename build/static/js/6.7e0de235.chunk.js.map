{"version":3,"sources":["containers/Orders/Orders.jsx","components/UI/Modal/Modal.jsx","components/UI/Modal/Modal.module.css","hoc/WithErrorHandler/WithErrorHandler.js"],"names":["Orders","this","props","onFetchOrders","token","userId","orders","loading","map","order","ingredients","price","id","Component","connect","state","auth","dispatch","actions","withErrorHandler","axios","Modal","nextProps","nextState","show","children","Fragment","clicked","modalClosed","className","classes","style","transform","opacity","module","exports","WrappedComponent","error","errorConfirmedHandler","setState","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","eject","message"],"mappings":"iOAUMA,E,uKAEF,WACGC,KAAKC,MAAMC,cAAcF,KAAKC,MAAME,MAAOH,KAAKC,MAAMG,U,oBAIzD,WACI,IAAIC,EAAS,cAAC,IAAD,IAUb,OATIL,KAAKC,MAAMK,UACXD,EAASL,KAAKC,MAAMI,OAAOE,KAAK,SAAAC,GAAK,OAErB,cAAC,IAAD,CACIC,YAAaD,EAAMC,YACnBC,OAAQF,EAAME,OAFNF,EAAMG,QAOlC,8BACKN,Q,GApBIO,aAyCNC,uBAfS,SAAAC,GACtB,MAAM,CACFT,OAAQS,EAAMN,MAAMH,OACpBC,QAASQ,EAAMN,MAAMF,QACrBH,MAAOW,EAAMC,KAAKZ,MAClBC,OAAQU,EAAMC,KAAKX,WAIE,SAAAY,GACvB,MAAM,CACFd,cAAe,SAACC,EAAOC,GAAR,OAAmBY,EAASC,IAAoBd,EAAOC,QAI/DS,CAA8CK,YAAiBnB,EAAQoB,O,oHC9ChFC,E,2KACF,SAAuBC,EAAWC,GAC9B,OAAOD,EAAUE,OAASvB,KAAKC,MAAMsB,MAAQF,EAAUG,WAAaxB,KAAKC,MAAMuB,W,oBAIrF,WACE,OACE,eAAC,IAAMC,SAAP,WACE,cAAC,IAAD,CAAUF,KAAMvB,KAAKC,MAAMsB,KAAMG,QAAS1B,KAAKC,MAAM0B,cACrD,qBACEC,UAAWC,IAAQT,MACnBU,MAAO,CACLC,UAAW/B,KAAKC,MAAMsB,KAAO,gBAAkB,qBAC/CS,QAAShC,KAAKC,MAAMsB,KAAO,IAAM,KAJrC,SAOGvB,KAAKC,MAAMuB,kB,GAjBFZ,aAwBLQ,O,mBC5Bfa,EAAOC,QAAU,CAAC,MAAQ,uB,kGC2CXhB,IAxCU,SAAEiB,EAAkBhB,GACzC,mNACIL,MAAQ,CACJsB,MAAO,MAFf,EAoBIC,sBAAwB,WACpB,EAAKC,SAAU,CAAEF,MAAO,QArBhC,wDAKI,WAAuB,IAAD,OAClBpC,KAAKuC,eAAiBpB,EAAMqB,aAAaC,QAAQC,KAAK,SAAAC,GAElD,OADA,EAAKL,SAAU,CAAEF,MAAO,OACjBO,KAEX3C,KAAK4C,eAAiBzB,EAAMqB,aAAaK,SAASH,KAAK,SAAAI,GAAG,OAAIA,KAAK,SAAAV,GAC/D,EAAKE,SAAU,CAAEF,MAAOA,SAXpC,kCAeI,WACIjB,EAAMqB,aAAaC,QAAQM,MAAO/C,KAAKuC,gBACvCpB,EAAMqB,aAAaK,SAASE,MAAO/C,KAAK4C,kBAjBhD,oBAwBI,WACI,OACI,qCACI,cAAC,IAAD,CACIrB,KAAMvB,KAAKc,MAAMsB,MACjBT,YAAa3B,KAAKqC,sBAFtB,SAGKrC,KAAKc,MAAMsB,MAAQpC,KAAKc,MAAMsB,MAAMY,QAAU,OAEnD,cAACb,EAAD,eAAsBnC,KAAKC,eAhC3C,GAAqBW","file":"static/js/6.7e0de235.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport axios from '../../axios-orders';\nimport Order from '../../components/Order/Order';\nimport withErrorHandler from '../../hoc/WithErrorHandler/WithErrorHandler';\nimport * as actions from '../../store/actions/index';\nimport Spinner from '../../components/UI/Spinner/Spinner';\n\n\nclass Orders extends Component {\n    \n    componentDidMount() {\n       this.props.onFetchOrders(this.props.token, this.props.userId);\n    }\n    \n\n    render() {\n        let orders = <Spinner />;\n        if(!this.props.loading) {\n            orders = this.props.orders.map (order => \n                        (\n                            <Order key={order.id}\n                                ingredients={order.ingredients}\n                                price={+order.price}\n                            />\n                    ))\n        } \n        return (\n            <div>\n                {orders}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n  return{\n      orders: state.order.orders,\n      loading: state.order.loading,\n      token: state.auth.token,\n      userId: state.auth.userId\n  };  \n};\n\nconst mapDispatchToProps = dispatch => {\n    return{\n        onFetchOrders: (token, userId) => dispatch(actions.fetchOrders(token, userId))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps )(withErrorHandler(Orders, axios));","import React, { Component } from \"react\";\nimport Backdrop from \"../Backdrop/Backdrop\";\n\nimport classes from \"./Modal.module.css\";\n\nclass Modal extends Component {\n    shouldComponentUpdate( nextProps, nextState){\n        return nextProps.show !== this.props.show || nextProps.children !== this.props.children;\n    }\n\n\n  render() {\n    return (\n      <React.Fragment>\n        <Backdrop show={this.props.show} clicked={this.props.modalClosed} />\n        <div\n          className={classes.Modal}\n          style={{\n            transform: this.props.show ? \"translateY(0)\" : \"translateY(-100vh)\",\n            opacity: this.props.show ? \"1\" : \"0\",\n          }}\n        >\n          {this.props.children}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1-5dN\"};","import React, { Component } from 'react';\n\nimport Modal from '../../components/UI/Modal/Modal';\n\nconst withErrorHandler = ( WrappedComponent, axios ) => {\n    return class extends Component {\n        state = {\n            error: null\n        }\n\n        componentWillMount () {\n            this.reqInterceptor = axios.interceptors.request.use( req => {\n                this.setState( { error: null } );\n                return req;\n            } );\n            this.resInterceptor = axios.interceptors.response.use( res => res, error => {\n                this.setState( { error: error } );\n            } );\n        }\n\n        componentWillUnmount () {\n            axios.interceptors.request.eject( this.reqInterceptor );\n            axios.interceptors.response.eject( this.resInterceptor );\n        }\n\n        errorConfirmedHandler = () => {\n            this.setState( { error: null } );\n        }\n\n        render () {\n            return (\n                <>\n                    <Modal\n                        show={this.state.error}\n                        modalClosed={this.errorConfirmedHandler}>\n                        {this.state.error ? this.state.error.message : null}\n                    </Modal>\n                    <WrappedComponent {...this.props} />\n                </>\n            );\n        }\n    }\n}\n\nexport default withErrorHandler;"],"sourceRoot":""}